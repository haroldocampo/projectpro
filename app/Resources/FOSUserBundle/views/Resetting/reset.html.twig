{% extends '@FOSUser/fos_base.html.twig' %}

{% block content %}
    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="wrapper">
        <div class="container">

            <!-- Page-Title -->
            <div class="row">
                <div class="col-sm-12">
                </div>
            </div>
            <div class="row m-t-20">
                <div class="col-xs-12 col-lg-6 col-lg-offset-3">
                    <div class="card-box">

                        <h2 class="m-t-0 m-b-20">Reset Password</h2>

                        {#{{ dump(form) }}#}

                        {% if not form.vars.valid %}
                            {# Loop through every form item #}
                            {% for child in form.children %}
                                {# Display the errors of the form item #}

                                {% if child.vars.name == "plainPassword" %}
                                    {% for plainChild in child.children %}
                                        {% for error in plainChild.vars.errors %}
                                            <div class="alert alert-danger" role="alert">
                                                {{ error.message }}
                                            </div>
                                         {% endfor %}
                                    {% endfor %}
                                {% endif %}
                            {% endfor %}
                        {% endif %}

                        {{ form_start(form, { 'action': path('fos_user_resetting_reset', {'token': token}), 'attr': { 'class': 'fos_user_resetting_reset' } }) }}
                        <div class="form-group row">
                            <label for="email" class="form-control-label">New Password</label>
                            {{ form_widget(form.plainPassword.first, { 'attr': {'class': 'form-control', 'placeholder': 'New Password' } }) }}
                            {#{{ form_errors(form.plainPassword.first) }}#}
                        </div>
                        <div class="form-group row">
                            <label for="email" class="form-control-label">Confirm Password</label>
                            {{ form_widget(form.plainPassword.second, { 'attr': {'class': 'form-control', 'placeholder': 'Confirm New Password' } }) }}
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-10"></label>
                            <div class="col-sm-2">
                                <input type="submit" class="btn btn-block btn-success" style="cursor: pointer;"
                                       value="Reset Password"/>
                            </div>
                        </div>
                        {{ form_end(form) }}


                    </div>
                </div><!-- end col-->


            </div>
            <!-- Footer -->
            <footer class="footer text-right">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12">
                            2017 Â© ProjectPro
                        </div>
                    </div>
                </div>
            </footer>
            <!-- End Footer -->


        </div> <!-- container -->


    </div> <!-- End wrapper -->
{% endblock %}
